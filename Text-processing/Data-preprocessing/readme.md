# 数据预处理

## 目标
本项目旨在对裁判文书进行预处理，以便于后续的数据分析和建模。预处理后的文书将去除冗余信息和噪声数据，并保留符合特定标准的文书内容，从而提高数据的质量和分析的准确性。

## 实现方法

### 输入文件
- 原始数据文件：`original_data.txt`  
  文件格式：每行包含一个案件，格式为“地区\t案件内容”。

### 输出文件
- 处理后数据文件：`processed_data.txt`  
  文件格式：每行包含一个处理后的案件，格式为“编号\t地区\t案件内容”。

### 数据预处理步骤

1. **读取原始数据文件**
   - 打开并读取`original_data.txt`文件中的每一行。
   - 将每行按照制表符(`\t`)分割为地区和案件内容两部分。

2. **数据清洗**
   - 去除括号内的注释内容：使用正则表达式`re.sub(u"（.*?）", "", content)`。
   - 去除标点符号和特殊字母：使用正则表达式`re.sub("[%s]+" % punctuation, "", line1)`，其中`punctuation`为定义的标点符号和特殊字母集。
   - 去除冗余词汇：使用正则表达式`re.sub("本院认为|违反道路交通管理法规|驾驶机动车辆|因而|违反道路交通运输管理法规|违反交通运输管理法规|缓刑考.*?计算|刑期.*?止|依照|《.*?》|第.*?条|第.*?款|的|了|其|另|已|且", "", line2)`。

3. **过滤数据**
   - 删除内容长度不符合要求的文书：只保留内容长度在100到400字符之间的文书。
   - 删除包含“保险”一词的文书。
   - 只保留以“被告人”开头的文书。

4. **打乱数据顺序**
   - 使用`random.shuffle`函数对处理后的文书进行随机打乱，以保证数据的随机性。

5. **保存处理后的数据**
   - 将处理后的案件数据写入`processed_data.txt`文件中，每行包含一个编号、地区和处理后的案件内容。

## 文件说明

- `original_data.txt`：原始裁判文书数据文件，每行包含一个案件，格式为“地区\t案件内容”。
- `processed_data.txt`：预处理后的裁判文书数据文件，每行包含一个编号、地区和处理后的案件内容。

## 运行方法

1. 确保将原始数据文件`original_data.txt`放置在与脚本相同的目录下。
2. 运行数据预处理脚本：
   ```python
   python data_process.py
   ```
3. 处理后的数据将生成在`processed_data.txt`文件中。

## 注意事项
- 请确保原始数据文件的格式正确，每行包含一个案件，且地区和案件内容之间用制表符(`\t`)分隔。
- 处理后的文件中只保留符合特定标准的文书内容，可能会导致原始数据量的减少。